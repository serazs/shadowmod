-- HORTUM ÇEKİM SİSTEMİ (GÜÇLÜ VERSİYON)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local lp = Players.LocalPlayer
local char = lp.Character or lp.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")

local RADIUS = 40        -- çekim mesafesi
local FORCE = 350        -- hız gücü (arttırdım)
local UP_FORCE = 120     -- yukarı kaldırma
local SPIN = 8           -- dönme
local DURATION = 2       -- etki süresi

local function affectPart(part)
    if not part:IsA("BasePart") then return end
    if part.Anchored then return end
    if part:IsDescendantOf(char) then return end

    local dir = (root.Position - part.Position).Unit

    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e6,1e6,1e6)
    bv.Velocity = (dir * FORCE) + Vector3.new(0, UP_FORCE, 0)
    bv.Parent = part

    local bav = Instance.new("BodyAngularVelocity")
    bav.MaxTorque = Vector3.new(1e6,1e6,1e6)
    bav.AngularVelocity = Vector3.new(
        math.random(-SPIN,SPIN),
        math.random(-SPIN,SPIN),
        math.random(-SPIN,SPIN)
    )
    bav.Parent = part

    task.delay(DURATION, function()
        if bv then bv:Destroy() end
        if bav then bav:Destroy() end
    end)
end

RunService.Heartbeat:Connect(function()
    if not root or not root.Parent then return end

    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and not obj.Anchored then
            local dist = (obj.Position - root.Position).Magnitude
            if dist <= RADIUS then
                affectPart(obj)
            end
        end
    end
end)
