local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local Window = OrionLib:MakeWindow({Name = "GHOST SAMURAI V2", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

-- SERVICES
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LP = Players.LocalPlayer
local Debris = game:GetService("Debris")

-- SETTINGS
local ghostCopies = {}
local copyAmount = 5
local samuraiAnimId = "rbxassetid://657595757"

-- TABS
local Tab = Window:MakeTab({
	Name = "Shadow Samurai",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

-- GHOST LOGIC
local function spawnShadow()
    local char = LP.Character
    if not char then return end

    local ghost = Instance.new("Model", workspace)
    ghost.Name = "Shadow_Samurai"
    
    for _, obj in pairs(char:GetChildren()) do
        if obj:IsA("BasePart") then
            local p = obj:Clone()
            p.Parent = ghost
            p.CanCollide = false
            p.Anchored = true
            p.Transparency = 0.6
            p.Color = Color3.fromRGB(0, 0, 0)
        elseif obj:IsA("Humanoid") then
            local h = Instance.new("Humanoid", ghost)
            local anim = Instance.new("Animation")
            anim.AnimationId = samuraiAnimId
            h:LoadAnimation(anim):Play()
        end
    end
    
    table.insert(ghostCopies, ghost)
    Debris:AddItem(ghost, 12)
end

-- CONTROLS
Tab:AddSlider({
	Name = "Gölge Sayısı",
	Min = 1,
	Max = 20,
	Default = 5,
	Color = Color3.fromRGB(255,255,255),
	Increment = 1,
	ValueName = "Samuray",
	Callback = function(Value)
		copyAmount = Value
	end    
})

Tab:AddButton({
	Name = "Gölge Ordusunu Sal!",
	Callback = function()
        for i = 1, copyAmount do
            spawnShadow()
        end
	end    
})

Tab:AddToggle({
	Name = "Samuray Yürüyüşü (Sen)",
	Default = false,
	Callback = function(Value)
		local hum = LP.Character:FindFirstChildOfClass("Humanoid")
        if Value then
            local anim = Instance.new("Animation")
            anim.AnimationId = samuraiAnimId
            _G.SamuraiTrack = hum:LoadAnimation(anim)
            _G.SamuraiTrack:Play()
        else
            if _G.SamuraiTrack then _G.SamuraiTrack:Stop() end
        end
	end    
})

-- GÖLGELERİ ARKANDA TUTMA
RunService.Heartbeat:Connect(function()
    if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
        local rootPos = LP.Character.HumanoidRootPart.Position
        for i, ghost in pairs(ghostCopies) do
            if ghost and ghost.PrimaryPart then
                local offset = Vector3.new(math.sin(tick() + i)*8, -3, math.cos(tick() + i)*8)
                ghost:SetPrimaryPartCFrame(CFrame.new(rootPos + offset))
            end
        end
    end
end)

OrionLib:Init()
